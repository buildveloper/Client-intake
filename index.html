<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Intake Form</title>
  <meta name="description" content="Secure client intake form for new matters">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1e40af',   // Trustworthy deep blue
            accent: '#3b82f6',
          }
        }
      }
    }
  </script>

  <style>
    input:focus, textarea:focus, select:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
    }
  </style>
</head>
<body class="min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12">
  <div class="max-w-2xl w-full">
    <div class="bg-white shadow-xl rounded-lg overflow-hidden">
      <!-- Header -->
      <div class="bg-primary text-white px-8 py-8 text-center">
        <h1 class="text-3xl font-bold">New Client Intake Form</h1>
        <p class="mt-3 text-blue-100 text-lg">Confidential submission â€” we'll contact you promptly</p>
      </div>

      <!-- Form -->
      <form 
        id="intake-form"
        action="https://gusna.app.n8n.cloud/webhook/client-intake" 
        method="POST"
        class="px-8 py-10 space-y-8"
      >
        <!-- Full Name -->
        <div>
          <label for="full_name" class="block text-sm font-medium text-gray-700 mb-2">
            Full Name <span class="text-red-600">*</span>
          </label>
          <input
            type="text"
            name="full_name"
            id="full_name"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition"
            placeholder="John Doe"
          />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
            Email Address <span class="text-red-600">*</span>
          </label>
          <input
            type="email"
            name="email"
            id="email"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition"
            placeholder="john@example.com"
          />
        </div>

        <!-- Phone -->
        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
            Phone Number <span class="text-red-600">*</span>
          </label>
          <input
            type="tel"
            name="phone"
            id="phone"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition"
            placeholder="+1 (555) 123-4567"
          />
        </div>

        <!-- Practice Area -->
        <div>
          <label for="practice_area" class="block text-sm font-medium text-gray-700 mb-2">
            Practice Area <span class="text-red-600">*</span>
          </label>
          <select
            name="practice_area"
            id="practice_area"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition"
          >
            <option value="" disabled selected>Select your practice area</option>
            <option value="Family Law">Family Law</option>
            <option value="Criminal Defense">Criminal Defense</option>
            <option value="Personal Injury">Personal Injury</option>
            <option value="Estate Planning">Estate Planning</option>
            <option value="Business Law">Business Law</option>
            <option value="Immigration">Immigration</option>
            <option value="Real Estate">Real Estate</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <!-- Description -->
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
            Brief Description of Your Matter <span class="text-red-600">*</span>
          </label>
          <textarea
            name="description"
            id="description"
            rows="6"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition resize-none"
            placeholder="Please provide a short summary of your legal needs..."
          ></textarea>
        </div>

        <!-- Submit -->
        <div class="flex justify-end pt-4">
          <button
            type="submit"
            class="bg-primary hover:bg-blue-800 text-white font-bold py-4 px-10 rounded-md transition transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300"
          >
            Submit Intake
          </button>
        </div>
      </form>

      <!-- Success Message (hidden until submit) -->
      <div id="success-message" class="hidden mt-8 p-8 bg-green-50 border border-green-200 rounded-lg text-center">
        <h2 class="text-2xl font-bold text-green-800">Thank You!</h2>
        <p class="mt-4 text-lg text-green-700">Your intake has been successfully received. We will contact you shortly.</p>
      </div>
    </div>

    <!-- Footer -->
    <p class="mt-8 text-center text-sm text-gray-600">
      This form is secure and confidential. Your information will only be used to evaluate your matter.
    </p>
  </div>

  <!-- Client-side submit handling (nice UX: no page reload) -->
  <script>
    const form = document.getElementById('intake-form');
    const success = document.getElementById('success-message');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: 'POST',
          body: formData,
        });

        if (response.ok) {
          form.classList.add('hidden');
          success.classList.remove('hidden');
        } else {
          alert('Submission failed. Please try again or contact us directly.');
        }
      } catch (err) {
        alert('Network error. Please check your connection and try again.');
      }
    });
  </script>
</body>
</html>